/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/d3-sankey-circular@0.34.0/dist/d3-sankey-circular.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-array"),require("d3-collection"),require("d3-shape"),require("elementary-circuits-directed-graph")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-shape","elementary-circuits-directed-graph"],t):t(r.d3=r.d3||{},r.d3,r.d3,r.d3,null)}(this,(function(r,t,a,c,n){"use strict";function i(r){return r.target.depth}function u(r,t){return r.sourceLinks.length?r.depth:t-1}function e(r){return function(){return r}}n=n&&n.hasOwnProperty("default")?n.default:n;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function o(r,t){return h(r.source,t.source)||r.index-t.index}function f(r,t){return h(r.target,t.target)||r.index-t.index}function h(r,t){return r.partOfCycle===t.partOfCycle?r.y0-t.y0:"top"===r.circularLinkType||"bottom"===t.circularLinkType?-1:1}function y(r){return r.value}function s(r){return(r.y0+r.y1)/2}function g(r){return s(r.source)}function d(r){return s(r.target)}function p(r){return r.index}function L(r){return r.nodes}function D(r){return r.links}function P(r,t){var a=r.get(t);if(!a)throw new Error("missing: "+t);return a}function k(r,t){return t(r)}var v=25,m=10;function E(r,t){var a=0,c=0;r.links.forEach((function(n){n.circular&&(n.source.circularLinkType||n.target.circularLinkType?n.circularLinkType=n.source.circularLinkType?n.source.circularLinkType:n.target.circularLinkType:n.circularLinkType=a<c?"top":"bottom","top"==n.circularLinkType?a+=1:c+=1,r.nodes.forEach((function(r){k(r,t)!=k(n.source,t)&&k(r,t)!=k(n.target,t)||(r.circularLinkType=n.circularLinkType)})))})),r.links.forEach((function(r){r.circular&&(r.source.circularLinkType==r.target.circularLinkType&&(r.circularLinkType=r.source.circularLinkType),G(r,t)&&(r.circularLinkType=r.source.circularLinkType))}))}function x(r){var t=Math.abs(r.y1-r.y0),a=Math.abs(r.target.x0-r.source.x1);return Math.atan(a/t)}function T(r,t){var a=0;r.sourceLinks.forEach((function(r){a=r.circular&&!G(r,t)?a+1:a}));var c=0;return r.targetLinks.forEach((function(r){c=r.circular&&!G(r,t)?c+1:c})),a+c}function w(r){var t=r.source.sourceLinks,a=0;t.forEach((function(r){a=r.circular?a+1:a}));var c=r.target.targetLinks,n=0;return c.forEach((function(r){n=r.circular?n+1:n})),!(a>1||n>1)}function A(r,t,a){return r.sort(b),r.forEach((function(c,n){var i,u,e=0;if(G(c,a)&&w(c))c.circularPathData.verticalBuffer=e+c.width/2;else{for(var l=0;l<n;l++)if(i=r[n],u=r[l],!(i.source.column<u.target.column||i.target.column>u.source.column)){var o=r[l].circularPathData.verticalBuffer+r[l].width/2+t;e=o>e?o:e}c.circularPathData.verticalBuffer=e+c.width/2}})),r}function R(r,a,n,i){var u=t.min(r.links,(function(r){return r.source.y0}));r.links.forEach((function(r){r.circular&&(r.circularPathData={})})),A(r.links.filter((function(r){return"top"==r.circularLinkType})),a,i),A(r.links.filter((function(r){return"bottom"==r.circularLinkType})),a,i),r.links.forEach((function(t){if(t.circular){if(t.circularPathData.arcRadius=t.width+m,t.circularPathData.leftNodeBuffer=5,t.circularPathData.rightNodeBuffer=5,t.circularPathData.sourceWidth=t.source.x1-t.source.x0,t.circularPathData.sourceX=t.source.x0+t.circularPathData.sourceWidth,t.circularPathData.targetX=t.target.x0,t.circularPathData.sourceY=t.y0,t.circularPathData.targetY=t.y1,G(t,i)&&w(t))t.circularPathData.leftSmallArcRadius=m+t.width/2,t.circularPathData.leftLargeArcRadius=m+t.width/2,t.circularPathData.rightSmallArcRadius=m+t.width/2,t.circularPathData.rightLargeArcRadius=m+t.width/2,"bottom"==t.circularLinkType?(t.circularPathData.verticalFullExtent=t.source.y1+v+t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.rightLargeArcRadius):(t.circularPathData.verticalFullExtent=t.source.y0-v-t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.rightLargeArcRadius);else{var e=t.source.column,l=t.circularLinkType,o=r.links.filter((function(r){return r.source.column==e&&r.circularLinkType==l}));"bottom"==t.circularLinkType?o.sort(F):o.sort(I);var f=0;o.forEach((function(r,c){r.circularLinkID==t.circularLinkID&&(t.circularPathData.leftSmallArcRadius=m+t.width/2+f,t.circularPathData.leftLargeArcRadius=m+t.width/2+c*a+f),f+=r.width})),e=t.target.column,o=r.links.filter((function(r){return r.target.column==e&&r.circularLinkType==l})),"bottom"==t.circularLinkType?o.sort(M):o.sort(S),f=0,o.forEach((function(r,c){r.circularLinkID==t.circularLinkID&&(t.circularPathData.rightSmallArcRadius=m+t.width/2+f,t.circularPathData.rightLargeArcRadius=m+t.width/2+c*a+f),f+=r.width})),"bottom"==t.circularLinkType?(t.circularPathData.verticalFullExtent=Math.max(n,t.source.y1,t.target.y1)+v+t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent-t.circularPathData.rightLargeArcRadius):(t.circularPathData.verticalFullExtent=u-v-t.circularPathData.verticalBuffer,t.circularPathData.verticalLeftInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.leftLargeArcRadius,t.circularPathData.verticalRightInnerExtent=t.circularPathData.verticalFullExtent+t.circularPathData.rightLargeArcRadius)}t.circularPathData.leftInnerExtent=t.circularPathData.sourceX+t.circularPathData.leftNodeBuffer,t.circularPathData.rightInnerExtent=t.circularPathData.targetX-t.circularPathData.rightNodeBuffer,t.circularPathData.leftFullExtent=t.circularPathData.sourceX+t.circularPathData.leftLargeArcRadius+t.circularPathData.leftNodeBuffer,t.circularPathData.rightFullExtent=t.circularPathData.targetX-t.circularPathData.rightLargeArcRadius-t.circularPathData.rightNodeBuffer}if(t.circular)t.path=function(r){var t="";t="top"==r.circularLinkType?"M"+r.circularPathData.sourceX+" "+r.circularPathData.sourceY+" L"+r.circularPathData.leftInnerExtent+" "+r.circularPathData.sourceY+" A"+r.circularPathData.leftLargeArcRadius+" "+r.circularPathData.leftSmallArcRadius+" 0 0 0 "+r.circularPathData.leftFullExtent+" "+(r.circularPathData.sourceY-r.circularPathData.leftSmallArcRadius)+" L"+r.circularPathData.leftFullExtent+" "+r.circularPathData.verticalLeftInnerExtent+" A"+r.circularPathData.leftLargeArcRadius+" "+r.circularPathData.leftLargeArcRadius+" 0 0 0 "+r.circularPathData.leftInnerExtent+" "+r.circularPathData.verticalFullExtent+" L"+r.circularPathData.rightInnerExtent+" "+r.circularPathData.verticalFullExtent+" A"+r.circularPathData.rightLargeArcRadius+" "+r.circularPathData.rightLargeArcRadius+" 0 0 0 "+r.circularPathData.rightFullExtent+" "+r.circularPathData.verticalRightInnerExtent+" L"+r.circularPathData.rightFullExtent+" "+(r.circularPathData.targetY-r.circularPathData.rightSmallArcRadius)+" A"+r.circularPathData.rightLargeArcRadius+" "+r.circularPathData.rightSmallArcRadius+" 0 0 0 "+r.circularPathData.rightInnerExtent+" "+r.circularPathData.targetY+" L"+r.circularPathData.targetX+" "+r.circularPathData.targetY:"M"+r.circularPathData.sourceX+" "+r.circularPathData.sourceY+" L"+r.circularPathData.leftInnerExtent+" "+r.circularPathData.sourceY+" A"+r.circularPathData.leftLargeArcRadius+" "+r.circularPathData.leftSmallArcRadius+" 0 0 1 "+r.circularPathData.leftFullExtent+" "+(r.circularPathData.sourceY+r.circularPathData.leftSmallArcRadius)+" L"+r.circularPathData.leftFullExtent+" "+r.circularPathData.verticalLeftInnerExtent+" A"+r.circularPathData.leftLargeArcRadius+" "+r.circularPathData.leftLargeArcRadius+" 0 0 1 "+r.circularPathData.leftInnerExtent+" "+r.circularPathData.verticalFullExtent+" L"+r.circularPathData.rightInnerExtent+" "+r.circularPathData.verticalFullExtent+" A"+r.circularPathData.rightLargeArcRadius+" "+r.circularPathData.rightLargeArcRadius+" 0 0 1 "+r.circularPathData.rightFullExtent+" "+r.circularPathData.verticalRightInnerExtent+" L"+r.circularPathData.rightFullExtent+" "+(r.circularPathData.targetY+r.circularPathData.rightSmallArcRadius)+" A"+r.circularPathData.rightLargeArcRadius+" "+r.circularPathData.rightSmallArcRadius+" 0 0 1 "+r.circularPathData.rightInnerExtent+" "+r.circularPathData.targetY+" L"+r.circularPathData.targetX+" "+r.circularPathData.targetY;return t}(t);else{var h=c.linkHorizontal().source((function(r){return[r.source.x0+(r.source.x1-r.source.x0),r.y0]})).target((function(r){return[r.target.x0,r.y1]}));t.path=h(t)}}))}function b(r,t){return Y(r)==Y(t)?"bottom"==r.circularLinkType?F(r,t):I(r,t):Y(t)-Y(r)}function I(r,t){return r.y0-t.y0}function F(r,t){return t.y0-r.y0}function S(r,t){return r.y1-t.y1}function M(r,t){return t.y1-r.y1}function Y(r){return r.target.column-r.source.column}function B(r){return r.target.x0-r.source.x1}function O(r,t){var a=x(r),c=B(t)/Math.tan(a);return"up"==_(r)?r.y1+c:r.y1-c}function X(r,t){var a=x(r),c=B(t)/Math.tan(a);return"up"==_(r)?r.y1-c:r.y1+c}function C(r,t,a,c){r.links.forEach((function(n){if(!n.circular&&n.target.column-n.source.column>1){var i=n.source.column+1,u=n.target.column-1,e=1,l=u-i+1;for(e=1;i<=u;i++,e++)r.nodes.forEach((function(u){if(u.column==i){var o,f=e/(l+1),h=Math.pow(1-f,3),y=3*f*Math.pow(1-f,2),s=3*Math.pow(f,2)*(1-f),g=Math.pow(f,3),d=h*n.y0+y*n.y0+s*n.y1+g*n.y1,p=d-n.width/2,L=d+n.width/2;p>u.y0&&p<u.y1?(o=u.y1-p+10,o="bottom"==u.circularLinkType?o:-o,u=j(u,o,t,a),r.nodes.forEach((function(r){k(r,c)!=k(u,c)&&r.column==u.column&&N(u,r)&&j(r,o,t,a)}))):(L>u.y0&&L<u.y1||p<u.y0&&L>u.y1)&&(o=L-u.y0+10,u=j(u,o,t,a),r.nodes.forEach((function(r){k(r,c)!=k(u,c)&&r.column==u.column&&r.y0<u.y1&&r.y1>u.y1&&j(r,o,t,a)})))}}))}}))}function N(r,t){return r.y0>t.y0&&r.y0<t.y1||(r.y1>t.y0&&r.y1<t.y1||r.y0<t.y0&&r.y1>t.y1)}function j(r,t,a,c){return r.y0+t>=a&&r.y1+t<=c&&(r.y0=r.y0+t,r.y1=r.y1+t,r.targetLinks.forEach((function(r){r.y1=r.y1+t})),r.sourceLinks.forEach((function(r){r.y0=r.y0+t}))),r}function q(r,t,a,c){r.nodes.forEach((function(n){c&&n.y+(n.y1-n.y0)>t&&(n.y=n.y-(n.y+(n.y1-n.y0)-t));var i=r.links.filter((function(r){return k(r.source,a)==k(n,a)})),u=i.length;u>1&&i.sort((function(r,t){if(!r.circular&&!t.circular){if(r.target.column==t.target.column)return r.y1-t.y1;if(!z(r,t))return r.y1-t.y1;if(r.target.column>t.target.column){var a=X(t,r);return r.y1-a}if(t.target.column>r.target.column)return X(r,t)-t.y1}return r.circular&&!t.circular?"top"==r.circularLinkType?-1:1:t.circular&&!r.circular?"top"==t.circularLinkType?1:-1:r.circular&&t.circular?r.circularLinkType===t.circularLinkType&&"top"==r.circularLinkType?r.target.column===t.target.column?r.target.y1-t.target.y1:t.target.column-r.target.column:r.circularLinkType===t.circularLinkType&&"bottom"==r.circularLinkType?r.target.column===t.target.column?t.target.y1-r.target.y1:r.target.column-t.target.column:"top"==r.circularLinkType?-1:1:void 0}));var e=n.y0;i.forEach((function(r){r.y0=e+r.width/2,e+=r.width})),i.forEach((function(r,t){if("bottom"==r.circularLinkType){for(var a=t+1,c=0;a<u;a++)c+=i[a].width;r.y0=n.y1-c-r.width/2}}))}))}function W(r,t,a){r.nodes.forEach((function(t){var c=r.links.filter((function(r){return k(r.target,a)==k(t,a)})),n=c.length;n>1&&c.sort((function(r,t){if(!r.circular&&!t.circular){if(r.source.column==t.source.column)return r.y0-t.y0;if(!z(r,t))return r.y0-t.y0;if(t.source.column<r.source.column){var a=O(t,r);return r.y0-a}if(r.source.column<t.source.column)return O(r,t)-t.y0}return r.circular&&!t.circular?"top"==r.circularLinkType?-1:1:t.circular&&!r.circular?"top"==t.circularLinkType?1:-1:r.circular&&t.circular?r.circularLinkType===t.circularLinkType&&"top"==r.circularLinkType?r.source.column===t.source.column?r.source.y1-t.source.y1:r.source.column-t.source.column:r.circularLinkType===t.circularLinkType&&"bottom"==r.circularLinkType?r.source.column===t.source.column?r.source.y1-t.source.y1:t.source.column-r.source.column:"top"==r.circularLinkType?-1:1:void 0}));var i=t.y0;c.forEach((function(r){r.y1=i+r.width/2,i+=r.width})),c.forEach((function(r,a){if("bottom"==r.circularLinkType){for(var i=a+1,u=0;i<n;i++)u+=c[i].width;r.y1=t.y1-u-r.width/2}}))}))}function z(r,t){return _(r)==_(t)}function _(r){return r.y0-r.y1>0?"up":"down"}function G(r,t){return k(r.source,t)==k(r.target,t)}r.sankeyCircular=function(){var r,c,i=0,k=0,x=1,w=1,A=24,b=p,I=u,F=L,S=D,M=32,Y=2,B=null;function O(){var u={nodes:F.apply(null,arguments),links:S.apply(null,arguments)};!function(r){r.nodes.forEach((function(r,t){r.index=t,r.sourceLinks=[],r.targetLinks=[]}));var t=a.map(r.nodes,b);r.links.forEach((function(r,a){r.index=a;var c=r.source,n=r.target;"object"!==(void 0===c?"undefined":l(c))&&(c=r.source=P(t,c)),"object"!==(void 0===n?"undefined":l(n))&&(n=r.target=P(t,n)),c.sourceLinks.push(r),n.targetLinks.push(r)}))}(u),function(r,t,a){var c=0;if(null===a){for(var i=[],u=0;u<r.links.length;u++){var e=r.links[u],l=e.source.index,o=e.target.index;i[l]||(i[l]=[]),i[o]||(i[o]=[]),-1===i[l].indexOf(o)&&i[l].push(o)}var f=n(i);f.sort((function(r,t){return r.length-t.length}));var h={};for(u=0;u<f.length;u++){var y=f[u].slice(-2);h[y[0]]||(h[y[0]]={}),h[y[0]][y[1]]=!0}r.links.forEach((function(r){var t=r.target.index,a=r.source.index;t===a||h[a]&&h[a][t]?(r.circular=!0,r.circularLinkID=c,c+=1):r.circular=!1}))}else r.links.forEach((function(r){r.source[a]<r.target[a]?r.circular=!1:(r.circular=!0,r.circularLinkID=c,c+=1)}))}(u,0,B),function(r){r.nodes.forEach((function(r){r.partOfCycle=!1,r.value=Math.max(t.sum(r.sourceLinks,y),t.sum(r.targetLinks,y)),r.sourceLinks.forEach((function(t){t.circular&&(r.partOfCycle=!0,r.circularLinkType=t.circularLinkType)})),r.targetLinks.forEach((function(t){t.circular&&(r.partOfCycle=!0,r.circularLinkType=t.circularLinkType)}))}))}(u),function(r){var t,a,c;for(t=r.nodes,a=[],c=0;t.length;++c,t=a,a=[])t.forEach((function(r){r.depth=c,r.sourceLinks.forEach((function(r){a.indexOf(r.target)<0&&!r.circular&&a.push(r.target)}))}));for(t=r.nodes,a=[],c=0;t.length;++c,t=a,a=[])t.forEach((function(r){r.height=c,r.targetLinks.forEach((function(r){a.indexOf(r.source)<0&&!r.circular&&a.push(r.source)}))}));r.nodes.forEach((function(r){r.column=Math.floor(I.call(null,r,c))}))}(u),E(u,b),function(n,u,e){var l=a.nest().key((function(r){return r.column})).sortKeys(t.ascending).entries(n.nodes).map((function(r){return r.values}));p(e),D();for(var o=1,f=u;f>0;--f)L(o*=.99,e),D();function p(a){if(c){var u=1/0;l.forEach((function(r){var t=w*c/(r.length+1);u=t<u?t:u})),r=u}var e=t.min(l,(function(a){return(w-k-(a.length-1)*r)/t.sum(a,y)}));e*=.3,n.links.forEach((function(r){r.width=r.value*e}));var o=function(r){var a=0,c=0,n=0,i=0,u=t.max(r.nodes,(function(r){return r.column}));return r.links.forEach((function(r){r.circular&&("top"==r.circularLinkType?a+=r.width:c+=r.width,0==r.target.column&&(i+=r.width),r.source.column==u&&(n+=r.width))})),{top:a=a>0?a+v+m:a,bottom:c=c>0?c+v+m:c,left:i=i>0?i+v+m:i,right:n=n>0?n+v+m:n}}(n),f=function(r,a){var c=t.max(r.nodes,(function(r){return r.column})),n=x-i,u=w-k,e=n+a.right+a.left,l=u+a.top+a.bottom,o=n/e,f=u/l;return i=i*o+a.left,x=0==a.right?x:x*o,k=k*f+a.top,w*=f,r.nodes.forEach((function(r){r.x0=i+r.column*((x-i-A)/c),r.x1=r.x0+A})),f}(n,o);e*=f,n.links.forEach((function(r){r.width=r.value*e})),l.forEach((function(r){var t=r.length;r.forEach((function(r,c){r.depth==l.length-1&&1==t||0==r.depth&&1==t?(r.y0=w/2-r.value*e,r.y1=r.y0+r.value*e):r.partOfCycle?0==T(r,a)?(r.y0=w/2+c,r.y1=r.y0+r.value*e):"top"==r.circularLinkType?(r.y0=k+c,r.y1=r.y0+r.value*e):(r.y0=w-r.value*e-c,r.y1=r.y0+r.value*e):0==o.top||0==o.bottom?(r.y0=(w-k)/t*c,r.y1=r.y0+r.value*e):(r.y0=(w-k)/2-t/2+c,r.y1=r.y0+r.value*e)}))}))}function L(r,a){var c=l.length;l.forEach((function(n){var i=n.length,u=n[0].depth;n.forEach((function(n){var e;if(n.sourceLinks.length||n.targetLinks.length)if(n.partOfCycle&&T(n,a)>0);else if(0==u&&1==i)e=n.y1-n.y0,n.y0=w/2-e/2,n.y1=w/2+e/2;else if(u==c-1&&1==i)e=n.y1-n.y0,n.y0=w/2-e/2,n.y1=w/2+e/2;else{var l=t.mean(n.sourceLinks,d),o=t.mean(n.targetLinks,g),f=((l&&o?(l+o)/2:l||o)-s(n))*r;n.y0+=f,n.y1+=f}}))}))}function D(){l.forEach((function(t){var a,c,n,i=k,u=t.length;for(t.sort(h),n=0;n<u;++n)(c=i-(a=t[n]).y0)>0&&(a.y0+=c,a.y1+=c),i=a.y1+r;if((c=i-r-w)>0)for(i=a.y0-=c,a.y1-=c,n=u-2;n>=0;--n)(c=(a=t[n]).y1+r-i)>0&&(a.y0-=c,a.y1-=c),i=a.y0}))}}(u,M,b),X(u);for(var e=0;e<4;e++)q(u,w,b),W(u,w,b),C(u,k,w,b),q(u,w,b),W(u,w,b);return function(r,a,c){var n=r.nodes,i=r.links,u=!1,e=!1;if(i.forEach((function(r){"top"==r.circularLinkType?u=!0:"bottom"==r.circularLinkType&&(e=!0)})),0==u||0==e){var l=t.min(n,(function(r){return r.y0})),o=(c-a)/(t.max(n,(function(r){return r.y1}))-l);n.forEach((function(r){var t=(r.y1-r.y0)*o;r.y0=(r.y0-l)*o,r.y1=r.y0+t})),i.forEach((function(r){r.y0=(r.y0-l)*o,r.y1=(r.y1-l)*o,r.width=r.width*o}))}}(u,k,w),R(u,Y,w,b),u}function X(r){r.nodes.forEach((function(r){r.sourceLinks.sort(f),r.targetLinks.sort(o)})),r.nodes.forEach((function(r){var t=r.y0,a=t,c=r.y1,n=c;r.sourceLinks.forEach((function(r){r.circular?(r.y0=c-r.width/2,c-=r.width):(r.y0=t+r.width/2,t+=r.width)})),r.targetLinks.forEach((function(r){r.circular?(r.y1=n-r.width/2,n-=r.width):(r.y1=a+r.width/2,a+=r.width)}))}))}return O.nodeId=function(r){return arguments.length?(b="function"==typeof r?r:e(r),O):b},O.nodeAlign=function(r){return arguments.length?(I="function"==typeof r?r:e(r),O):I},O.nodeWidth=function(r){return arguments.length?(A=+r,O):A},O.nodePadding=function(t){return arguments.length?(r=+t,O):r},O.nodes=function(r){return arguments.length?(F="function"==typeof r?r:e(r),O):F},O.links=function(r){return arguments.length?(S="function"==typeof r?r:e(r),O):S},O.size=function(r){return arguments.length?(i=k=0,x=+r[0],w=+r[1],O):[x-i,w-k]},O.extent=function(r){return arguments.length?(i=+r[0][0],x=+r[1][0],k=+r[0][1],w=+r[1][1],O):[[i,k],[x,w]]},O.iterations=function(r){return arguments.length?(M=+r,O):M},O.circularLinkGap=function(r){return arguments.length?(Y=+r,O):Y},O.nodePaddingRatio=function(r){return arguments.length?(c=+r,O):c},O.sortNodes=function(r){return arguments.length?(B=r,O):B},O.update=function(r){return E(r,b),X(r),r.links.forEach((function(r){r.circular&&(r.circularLinkType=r.y0+r.y1<w?"top":"bottom",r.source.circularLinkType=r.circularLinkType,r.target.circularLinkType=r.circularLinkType)})),q(r,w,b,!1),W(r,w,b),R(r,Y,w,b),r},O},r.sankeyCenter=function(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?t.min(r.sourceLinks,i)-1:0},r.sankeyLeft=function(r){return r.depth},r.sankeyRight=function(r,t){return t-1-r.height},r.sankeyJustify=u,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/be20b73d68cd9f546276516e6a5a7363bb9026100e80ea4e818cbbdcc1c1f7dd.map